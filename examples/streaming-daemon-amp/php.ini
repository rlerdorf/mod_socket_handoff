; Minimal PHP configuration for streaming-daemon-amp
; Usage: php -c /path/to/this/php.ini streaming_daemon.php

; Disable stack size limit check (required for high concurrency with fibers)
; This is INI_SYSTEM so it cannot be set via -d command line
zend.max_allowed_stack_size = -1
zend.reserved_stack_size = 0

; Memory - no limit for long-running daemon
memory_limit = -1

; Fiber stack size - 64KB is needed for AMPHP (56KB fails during class compilation)
; Reduces memory pressure with many concurrent connections
fiber.stack_size = 64k

; Note: sockets and posix extensions are typically compiled into PHP statically
; If you get "extension not found" errors, they're already built-in - ignore them
; If you get "sockets extension required" errors, uncomment below:
; extension = sockets
; extension = posix

; Disable unnecessary features for daemon
expose_php = Off
html_errors = Off
display_errors = stderr
log_errors = On
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT

; Timezone (avoid warnings)
date.timezone = UTC
